{
  "testCases": [
    {
      "start": {
        "fen": "8/4k3/8/8/8/8/r6r/R3K2R w KQ - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/4k3/8/8/8/8/r6r/1R2K2R b K - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/4k3/8/8/8/8/r6r/2R1K2R b K - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/4k3/8/8/8/8/r6r/3RK2R b K - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/4k3/8/8/8/8/R6r/4K2R b K - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/4k3/8/8/8/8/r6r/R2K3R b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/4k3/8/8/8/8/r6r/R4K1R b - - 1 1"
        },
        {
          "move": "O-O-O",
          "fen": "8/4k3/8/8/8/8/r6r/2KR3R b - - 1 1"
        },
        {
          "move": "O-O",
          "fen": "8/4k3/8/8/8/8/r6r/R4RK1 b - - 1 1"
        },
        {
          "move": "Rg1",
          "fen": "8/4k3/8/8/8/8/r6r/R3K1R1 b Q - 1 1"
        },
        {
          "move": "Rf1",
          "fen": "8/4k3/8/8/8/8/r6r/R3KR2 b Q - 1 1"
        },
        {
          "move": "Rh2",
          "fen": "8/4k3/8/8/8/8/r6R/R3K3 b Q - 0 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can only castle queenside.",
        "fen": "8/4k3/8/8/8/8/r6r/R3K2R w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/4k3/8/8/8/8/r6r/1R2K2R b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/4k3/8/8/8/8/r6r/2R1K2R b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/4k3/8/8/8/8/r6r/3RK2R b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/4k3/8/8/8/8/R6r/4K2R b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/4k3/8/8/8/8/r6r/R2K3R b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/4k3/8/8/8/8/r6r/R4K1R b - - 1 1"
        },
        {
          "move": "O-O-O",
          "fen": "8/4k3/8/8/8/8/r6r/2KR3R b - - 1 1"
        },
        {
          "move": "Rg1",
          "fen": "8/4k3/8/8/8/8/r6r/R3K1R1 b Q - 1 1"
        },
        {
          "move": "Rf1",
          "fen": "8/4k3/8/8/8/8/r6r/R3KR2 b Q - 1 1"
        },
        {
          "move": "Rh2",
          "fen": "8/4k3/8/8/8/8/r6R/R3K3 b Q - 0 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can only castle kingside.",
        "fen": "8/4k3/8/8/8/8/r6r/R3K2R w K - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/4k3/8/8/8/8/r6r/1R2K2R b K - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/4k3/8/8/8/8/r6r/2R1K2R b K - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/4k3/8/8/8/8/r6r/3RK2R b K - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/4k3/8/8/8/8/R6r/4K2R b K - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/4k3/8/8/8/8/r6r/R2K3R b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/4k3/8/8/8/8/r6r/R4K1R b - - 1 1"
        },
        {
          "move": "O-O",
          "fen": "8/4k3/8/8/8/8/r6r/R4RK1 b - - 1 1"
        },
        {
          "move": "Rg1",
          "fen": "8/4k3/8/8/8/8/r6r/R3K1R1 b - - 1 1"
        },
        {
          "move": "Rf1",
          "fen": "8/4k3/8/8/8/8/r6r/R3KR2 b - - 1 1"
        },
        {
          "move": "Rh2",
          "fen": "8/4k3/8/8/8/8/r6R/R3K3 b - - 0 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can't castle despite pieces being in the right position; presumably they've already moved the king or rooks.",
        "fen": "8/4k3/8/8/8/8/r6r/R3K2R w - - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/4k3/8/8/8/8/r6r/1R2K2R b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/4k3/8/8/8/8/r6r/2R1K2R b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/4k3/8/8/8/8/r6r/3RK2R b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/4k3/8/8/8/8/R6r/4K2R b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/4k3/8/8/8/8/r6r/R2K3R b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/4k3/8/8/8/8/r6r/R4K1R b - - 1 1"
        },
        {
          "move": "Rg1",
          "fen": "8/4k3/8/8/8/8/r6r/R3K1R1 b - - 1 1"
        },
        {
          "move": "Rf1",
          "fen": "8/4k3/8/8/8/8/r6r/R3KR2 b - - 1 1"
        },
        {
          "move": "Rh2",
          "fen": "8/4k3/8/8/8/8/r6R/R3K3 b - - 0 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can castle queenside despite b1 being attacked.",
        "fen": "1r6/4k3/8/8/8/8/r7/R3K3 w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "1r6/4k3/8/8/8/8/r7/1R2K3 b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "1r6/4k3/8/8/8/8/r7/2R1K3 b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "1r6/4k3/8/8/8/8/r7/3RK3 b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "1r6/4k3/8/8/8/8/R7/4K3 b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "1r6/4k3/8/8/8/8/r7/R2K4 b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "1r6/4k3/8/8/8/8/r7/R4K2 b - - 1 1"
        },
        {
          "move": "O-O-O",
          "fen": "1r6/4k3/8/8/8/8/r7/2KR4 b - - 1 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can't castle queenside because it would into check from a rook.",
        "fen": "2r5/4k3/8/8/8/8/r7/R3K3 w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "2r5/4k3/8/8/8/8/r7/1R2K3 b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "2r5/4k3/8/8/8/8/r7/2R1K3 b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "2r5/4k3/8/8/8/8/r7/3RK3 b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "2r5/4k3/8/8/8/8/R7/4K3 b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "2r5/4k3/8/8/8/8/r7/R2K4 b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "2r5/4k3/8/8/8/8/r7/R4K2 b - - 1 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can't castle queenside because it would be into check from a bishop.",
        "fen": "8/4k3/8/8/8/b7/r7/R3K3 w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/4k3/8/8/8/b7/r7/1R2K3 b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/4k3/8/8/8/b7/r7/2R1K3 b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/4k3/8/8/8/b7/r7/3RK3 b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/4k3/8/8/8/b7/R7/4K3 b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/4k3/8/8/8/b7/r7/R2K4 b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/4k3/8/8/8/b7/r7/R4K2 b - - 1 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can't castle queenside because it would be into check from a knight.",
        "fen": "8/4k3/8/8/8/8/n7/R3K3 w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/4k3/8/8/8/8/n7/1R2K3 b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/4k3/8/8/8/8/n7/2R1K3 b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/4k3/8/8/8/8/n7/3RK3 b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/4k3/8/8/8/8/R7/4K3 b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/4k3/8/8/8/8/n7/R2K4 b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/4k3/8/8/8/8/n7/R4K2 b - - 1 1"
        },
        {
          "move": "Kd2",
          "fen": "8/4k3/8/8/8/8/n2K4/R7 b - - 1 1"
        },
        {
          "move": "Ke2",
          "fen": "8/4k3/8/8/8/8/n3K3/R7 b - - 1 1"
        },
        {
          "move": "Kf2",
          "fen": "8/4k3/8/8/8/8/n4K2/R7 b - - 1 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can't castle queenside because it would be into check from a queen.",
        "fen": "8/4k3/8/8/5q2/8/r7/R3K3 w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/4k3/8/8/5q2/8/r7/1R2K3 b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/4k3/8/8/5q2/8/r7/2R1K3 b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/4k3/8/8/5q2/8/r7/3RK3 b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/4k3/8/8/5q2/8/R7/4K3 b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/4k3/8/8/5q2/8/r7/R2K4 b - - 1 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can't castle queenside because it would be into check from black king.",
        "fen": "8/8/8/8/8/8/rk6/R3K3 w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1+",
          "fen": "8/8/8/8/8/8/rk6/1R2K3 b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/8/8/8/8/8/rk6/2R1K3 b - - 1 1"
        },
        {
          "move": "Rd1",
          "fen": "8/8/8/8/8/8/rk6/3RK3 b - - 1 1"
        },
        {
          "move": "Ra2+",
          "fen": "8/8/8/8/8/8/Rk6/4K3 b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/8/8/8/8/8/rk6/R2K4 b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/8/8/8/8/8/rk6/R4K2 b - - 1 1"
        },
        {
          "move": "Kd2",
          "fen": "8/8/8/8/8/8/rk1K4/R7 b - - 1 1"
        },
        {
          "move": "Ke2",
          "fen": "8/8/8/8/8/8/rk2K3/R7 b - - 1 1"
        },
        {
          "move": "Kf2",
          "fen": "8/8/8/8/8/8/rk3K2/R7 b - - 1 1"
        }
      ]
    },
    {
      "start": {
        "description": "White can't castle queenside because it would be into check from a pawn.",
        "fen": "8/8/8/8/3k4/8/rp6/R3K3 w Q - 0 1"
      },
      "expected": [
        {
          "move": "Rb1",
          "fen": "8/8/8/8/3k4/8/rp6/1R2K3 b - - 1 1"
        },
        {
          "move": "Rc1",
          "fen": "8/8/8/8/3k4/8/rp6/2R1K3 b - - 1 1"
        },
        {
          "move": "Rd1+",
          "fen": "8/8/8/8/3k4/8/rp6/3RK3 b - - 1 1"
        },
        {
          "move": "Ra2",
          "fen": "8/8/8/8/3k4/8/Rp6/4K3 b - - 0 1"
        },
        {
          "move": "Kd1",
          "fen": "8/8/8/8/3k4/8/rp6/R2K4 b - - 1 1"
        },
        {
          "move": "Kf1",
          "fen": "8/8/8/8/3k4/8/rp6/R4K2 b - - 1 1"
        },
        {
          "move": "Kd2",
          "fen": "8/8/8/8/3k4/8/rp1K4/R7 b - - 1 1"
        },
        {
          "move": "Ke2",
          "fen": "8/8/8/8/3k4/8/rp2K3/R7 b - - 1 1"
        },
        {
          "move": "Kf2",
          "fen": "8/8/8/8/3k4/8/rp3K2/R7 b - - 1 1"
        }
      ]
    }
  ]
}